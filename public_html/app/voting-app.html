<div class="voting-app" ng-if="!votingApp.loading">
    <div class="jumbotron">
        <h1>365 Day Vote</h1> 
        <p>Hey guys! So, I've narrow my favorite photos to the ones listed
            below. Now I'd like you to vote on which one you like the
            best!
        </p> 
    </div>
    <div class="container-fluid">
        <div class="panel panel-primary logged-in" ng-if="votingApp.user">
            <div class="panel-heading">
                The Candidates
            </div>
            <div class="panel-body">
                <div class="voting-user-summary">
                    <img ng-src="{{votingApp.user.profileImageUrl}}"
                         class="voting-user-icon" 
                         ng-class="votingApp.user.provider"
                         ng-if="votingApp.user.profileImageUrl">
                    <div class="voting-user-name">
                        <h4 ng-bind="votingApp.user.displayName"></h4>
                        <p>Via <span ng-bind="votingApp.user.provider.toUpperCase();"></span></p>
                    </div>
                    <button class="btn btn-danger" ng-click="votingApp.logout();">
                        <span class="glyphicon glyphicon-off"></span> Logout
                    </button> 
                </div>
                <div class="top-buffer" ng-if="!votingApp.hasVoted">
                    <div class="flex-row">
                        <div class="col-sm-6" ng-repeat="item in votingApp.votingItems| orderBy: 'monthOrder' track by $index">
                            <voting-item  month="item.month"
                                          comments="item.comments"
                                          image="item.image"
                                          flickr="image.flickr"
                                          on-vote="votingApp.onVote(item);"
                                          even="$even">
                            </voting-item>
                        </div>
                    </div>
                </div>
                <div class="top-buffer" ng-if="votingApp.hasVoted">
                    <voting-results has-voted="votingApp.hasVoted"
                                    user="votingApp.user"
                                    items="votingApp.votingItems">
                    </voting-results>
                </div>
            </div>
        </div>
        <div class="panel panel-primary logged-out" ng-if="!votingApp.user">
            <div class="panel-heading">
                Please Login
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-sm-12">
                        <h3>Please login</h3>
                    </div>
                    <div class="col-sm-12 text-center">
                        <button class="btn btn-primary" ng-click="votingApp.loginWithFacebook();">
                            Login with Facebook
                        </button>
                    </div>
                    <div class="col-sm-12 text-center top-buffer">
                        <button class="btn btn-danger" ng-click="votingApp.loginWithGoogle();">
                            Login with Google+
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>